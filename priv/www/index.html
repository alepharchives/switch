<html>
  <head>
    <title>Phone Switch Simulator</title>
  </head>
  <body>
    <p>The <a href="#">Phone Switch Simulator</a> is intended to be used in a (fun) programming exercise.
    </p>
    <p>It provides a simple (silly?) abstraction of a telephone switch. 
      By using the REST like HTTP interface you can:
    </p>
    <ul>
      <li>Create your own switch (wow... :-)</li>
      <li>Create subscribers in your switch</li>
      <li>Control the switch hardware, such as tone generation,
	event generation for on/off hook of the phone device 
	and of course to connect two subscribers to form a 
	regular phone call.
      </li>
    </ul>
    <p>The following curl commands describes what you can do:
    </p>
    <pre>
# To create a Switch (with the name: axe)
curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe

# To get the Switch status. Returns: A textual status table.
# (tip: run this via the 'watch' command for an 'animated' experience)
curl -H 'Content-Type: text/plain' -X 'GET' http://switch.redhoterlang.com/x/axe

# To create a new Subscriber. Returns: <Ano>
curl -H 'Content-Type: text/plain' -X 'POST' http://switch.redhoterlang.com/x/axe/subscriber

# To control the on/off-hook of the receiver for a particular Subscriber
curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe/Ano/offhook
curl -H 'Content-Type: text/plain' -d "" -X 'DELETE' http://switch.redhoterlang.com/x/axe/Ano/offhook

# To control the tone generator and ring signal in the Switch for a particular Subscriber
curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe/Ano/dialtone
curl -H 'Content-Type: text/plain' -d "" -X 'DELETE' http://switch.redhoterlang.com/x/axe/Ano/dialtone

curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe/Ano/ringtone
curl -H 'Content-Type: text/plain' -d "" -X 'DELETE' http://switch.redhoterlang.com/x/axe/Ano/ringtone

curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe/Ano/ringsignal
curl -H 'Content-Type: text/plain' -d "" -X 'DELETE' http://switch.redhoterlang.com/x/axe/Ano/ringsignal

# To (dis-)connect two subscribers
curl -H 'Content-Type: text/plain' -d "" -X 'PUT' http://switch.redhoterlang.com/x/axe/Ano/connect/Bno
curl -H 'Content-Type: text/plain' -X 'DELETE' http://switch.redhoterlang.com/x/axe/Ano/connect/Bno
    </pre>
    <p>Now it is up to you to write a client program that simulates
      a couple of telephones that connected to the switch. As a little
      help, think about it as a state event diagram, as shown below. 
      Especially note that your code must be able to function both as
      the calling party (A-side) and the receiving party (B-side).
    </p>
    <img src=/phone_state_event.jpg></img>
    <p>If you want to write the code in Erlang, then download the
      <a href="#">Starter Kit</a>. With the Starter Kit you get a program
      where the Idle State has been written. You have access to a little
      helper library that can talk to the switch. The rest is up to you.
    </p>
    <p>When you have succeeded the result could look something like in the
    video below:
    </p>
  </body>
</html>
